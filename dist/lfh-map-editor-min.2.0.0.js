console.log(lfh.ICON_URL);var L=L||require("leaflet"),_MAX_POINT_INTERVAL_MS=15e3,_SECOND_IN_MILLIS=1e3,_MINUTE_IN_MILLIS=60*_SECOND_IN_MILLIS,_HOUR_IN_MILLIS=60*_MINUTE_IN_MILLIS,_DAY_IN_MILLIS=24*_HOUR_IN_MILLIS,_DEFAULT_MARKER_OPTS={startIconUrl:"pin-icon-start.png",endIconUrl:"pin-icon-end.png",shadowUrl:"pin-shadow.png",wptIconUrls:{"":"pin-icon-wpt.png"},iconSize:[33,50],shadowSize:[50,50],iconAnchor:[16,45],shadowAnchor:[16,47],clickable:!1},_DEFAULT_POLYLINE_OPTS={color:"blue"},_DEFAULT_GPX_OPTS={parseElements:["track","route","waypoint"]};L.GPX=L.FeatureGroup.extend({initialize:function(e,t){t.max_point_interval=t.max_point_interval||_MAX_POINT_INTERVAL_MS,t.marker_options=this._merge_objs(_DEFAULT_MARKER_OPTS,t.marker_options||{}),t.polyline_options=this._merge_objs(_DEFAULT_POLYLINE_OPTS,t.polyline_options||{}),t.gpx_options=this._merge_objs(_DEFAULT_GPX_OPTS,t.gpx_options||{}),L.Util.setOptions(this,t),L.GPXTrackIcon=L.Icon.extend({options:t.marker_options}),this._gpx=e,this._layers={},this._info={name:null,length:0,elevation:{gain:0,loss:0,max:0,min:1/0,_points:[]},hr:{avg:0,_total:0,_points:[]},duration:{start:null,end:null,moving:0,total:0}},e&&this._parse(e,t,this.options.async)},get_duration_string:function(e,t){var n="";e>=_DAY_IN_MILLIS&&(n+=Math.floor(e/_DAY_IN_MILLIS)+"d ",e%=_DAY_IN_MILLIS),e>=_HOUR_IN_MILLIS&&(n+=Math.floor(e/_HOUR_IN_MILLIS)+":",e%=_HOUR_IN_MILLIS);var o=Math.floor(e/_MINUTE_IN_MILLIS);e%=_MINUTE_IN_MILLIS,o<10&&(n+="0"),n+=o+"'";var r=Math.floor(e/_SECOND_IN_MILLIS);return e%=_SECOND_IN_MILLIS,r<10&&(n+="0"),n+=r,n+=!t&&e>0?"."+Math.round(1e3*Math.floor(e))/1e3:'"'},to_miles:function(e){return e/1.60934},to_ft:function(e){return 3.28084*e},m_to_km:function(e){return e/1e3},m_to_mi:function(e){return e/1609.34},get_name:function(){return this._info.name},get_desc:function(){return this._info.desc},get_author:function(){return this._info.author},get_copyright:function(){return this._info.copyright},get_distance:function(){return this._info.length},get_distance_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))},get_start_time:function(){return this._info.duration.start},get_end_time:function(){return this._info.duration.end},get_moving_time:function(){return this._info.duration.moving},get_total_time:function(){return this._info.duration.total},get_moving_pace:function(){return this.get_moving_time()/this.m_to_km(this.get_distance())},get_moving_pace_imp:function(){return this.get_moving_time()/this.get_distance_imp()},get_moving_speed:function(){return this.m_to_km(this.get_distance())/(this.get_moving_time()/36e5)},get_moving_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_moving_time()/36e5)},get_total_speed:function(){return this.m_to_km(this.get_distance())/(this.get_total_time()/36e5)},get_total_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_total_time()/36e5)},get_elevation_gain:function(){return this._info.elevation.gain},get_elevation_loss:function(){return this._info.elevation.loss},get_elevation_gain_imp:function(){return this.to_ft(this.get_elevation_gain())},get_elevation_loss_imp:function(){return this.to_ft(this.get_elevation_loss())},get_elevation_data:function(){var e=this;return this._info.elevation._points.map(function(t){return e._prepare_data_point(t,e.m_to_km,null,function(e,t){return null==e||null==t?null:e.toFixed(2)+" km, "+t.toFixed(0)+" m"})})},get_elevation_data_imp:function(){var e=this;return this._info.elevation._points.map(function(t){return e._prepare_data_point(t,e.m_to_mi,e.to_ft,function(e,t){return e.toFixed(2)+" mi, "+t.toFixed(0)+" ft"})})},get_elevation_max:function(){return this._info.elevation.max},get_elevation_min:function(){return this._info.elevation.min},get_elevation_max_imp:function(){return this.to_ft(this.get_elevation_max())},get_elevation_min_imp:function(){return this.to_ft(this.get_elevation_min())},get_average_hr:function(){return this._info.hr.avg},get_heartrate_data:function(){var e=this;return this._info.hr._points.map(function(t){return e._prepare_data_point(t,e.m_to_km,null,function(e,t){return e.toFixed(2)+" km, "+t.toFixed(0)+" bpm"})})},get_heartrate_data_imp:function(){var e=this;return this._info.hr._points.map(function(t){return e._prepare_data_point(t,e.m_to_mi,null,function(e,t){return e.toFixed(2)+" mi, "+t.toFixed(0)+" bpm"})})},get_options:function(){return this.getLayers()[0].getLayers()[0].options},reload:function(){this.clearLayers(),this._parse(this._gpx,this.options,this.options.async)},get_markers:function(){return this._markers},_merge_objs:function(e,t){var n={};for(var o in e)n[o]=e[o];for(var o in t)n[o]=t[o];return n},_prepare_data_point:function(e,t,n,o){var r=[t&&t(e[0])||e[0],n&&n(e[1])||e[1]];return r.push(o&&o(r[0],r[1])||r[0]+": "+r[1]),r},_load_xml:function(e,t,n,o){void 0==o&&(o=this.options.async),void 0==n&&(n=this.options);var r=new window.XMLHttpRequest;r.open("GET",e,o);try{r.overrideMimeType("text/xml")}catch(e){}var i=this;r.onreadystatechange=function(){4==r.readyState&&(200==r.status?t(r.responseXML,n):i.options.isLoaded=!0)},r.send(null)},_parse:function(e,t,n){var o=this,r=function(e,t){var n=o._parse_gpx_data(e,t);if(!n)return void(o.options.isLoaded=!0);o.addLayer(n),o.fire("loaded")};if("<"===e.substr(0,1)){var i=new DOMParser;n?setTimeout(function(){r(i.parseFromString(e,"text/xml"),t)}):r(i.parseFromString(e,"text/xml"),t)}else this._load_xml(e,r,t,n)},_markers:[],_parse_gpx_data:function(e,t){var n,o,r,i=[],a=[],l=t.gpx_options.parseElements;l.indexOf("route")>-1&&a.push(["rte","rtept"]),l.indexOf("track")>-1&&a.push(["trkseg","trkpt"]);var c=e.getElementsByTagName("name");c.length>0&&(this._info.name=c[0].textContent);var s=e.getElementsByTagName("desc");s.length>0&&(this._info.desc=s[0].textContent);var m=e.getElementsByTagName("author");m.length>0&&(this._info.author=m[0].textContent);var d=e.getElementsByTagName("copyright");for(d.length>0&&(this._info.copyright=d[0].textContent),n=0;n<a.length;n++)for(r=e.getElementsByTagName(a[n][0]),o=0;o<r.length;o++){var u=this._parse_trkseg(r[o],e,t,a[n][1]);if(0!==u.length){var _=new L.Polyline(u,t.polyline_options);if(this.fire("addline",{line:_}),i.push(_),t.marker_options.startIcon||t.marker_options.startIconUrl){var p=new L.Marker(u[0],{clickable:t.marker_options.clickable,icon:t.marker_options.startIcon||new L.GPXTrackIcon({iconUrl:t.marker_options.startIconUrl})});this._markers.push(p),this.fire("addpoint",{point:p,point_type:"start"}),i.push(p)}(t.marker_options.endIcon||t.marker_options.endIconUrl)&&(p=new L.Marker(u[u.length-1],{clickable:t.marker_options.clickable,icon:t.marker_options.endIcon||new L.GPXTrackIcon({iconUrl:t.marker_options.endIconUrl})}),this._markers.push(p),this.fire("addpoint",{point:p,point_type:"end"}),i.push(p))}}if(this._info.hr.avg=Math.round(this._info.hr._total/this._info.hr._points.length),l.indexOf("waypoint")>-1)for(r=e.getElementsByTagName("wpt"),o=0;o<r.length;o++){var h=new L.LatLng(r[o].getAttribute("lat"),r[o].getAttribute("lon")),f=r[o].getElementsByTagName("name"),c="";f.length>0&&(c=f[0].textContent);var g=r[o].getElementsByTagName("desc"),s="";g.length>0&&(s=g[0].textContent);var v=r[o].getElementsByTagName("sym"),k="";v.length>0&&(k=v[0].textContent);var y;if(t.marker_options.wptIcons&&t.marker_options.wptIcons[k])y=t.marker_options.wptIcons[k];else{if(!t.marker_options.wptIconUrls||!t.marker_options.wptIconUrls[k]){console.log('No icon or icon URL configured for symbol type "'+k+'"; ignoring waypoint.');continue}y=new L.GPXTrackIcon({iconUrl:t.marker_options.wptIconUrls[k]})}var w=new L.Marker(h,{clickable:!0,title:c,icon:y});w.bindPopup("<b>"+c+"</b>"+(s.length>0?"<br>"+s:"")).openPopup(),this.fire("addpoint",{point:w,point_type:"waypoint"}),i.push(w)}return i.length>1?new L.FeatureGroup(i):1==i.length?i[0]:void 0},_parse_trkseg:function(e,t,n,o){var r=e.getElementsByTagName(o);if(!r.length)return[];for(var i=[],a=null,l=0;l<r.length;l++){var c,s=new L.LatLng(r[l].getAttribute("lat"),r[l].getAttribute("lon"));if(s.meta={time:null,ele:null,hr:null},c=r[l].getElementsByTagName("time"),c.length>0&&(s.meta.time=new Date(Date.parse(c[0].textContent))),c=r[l].getElementsByTagName("ele"),c.length>0&&(s.meta.ele=parseFloat(c[0].textContent)),c=r[l].getElementsByTagNameNS("*","hr"),c.length>0&&(s.meta.hr=parseInt(c[0].textContent),this._info.hr._points.push([this._info.length,s.meta.hr]),this._info.hr._total+=s.meta.hr),s.meta.ele>this._info.elevation.max&&(this._info.elevation.max=s.meta.ele),s.meta.ele<this._info.elevation.min&&(this._info.elevation.min=s.meta.ele),this._info.elevation._points.push([this._info.length,s.meta.ele]),this._info.duration.end=s.meta.time,null!=a){var m=this._dist3d(a,s);console.log(m),this._info.length+=this._dist3d(a,s);var d=s.meta.ele-a.meta.ele;d>0?this._info.elevation.gain+=d:this._info.elevation.loss+=Math.abs(d),d=Math.abs(s.meta.time-a.meta.time),this._info.duration.total+=d,d<n.max_point_interval&&(this._info.duration.moving+=d)}else this._info.duration.start=s.meta.time;a=s,i.push(s)}return i},_dist2d:function(e,t){var n=this._deg2rad(t.lat-e.lat),o=this._deg2rad(t.lng-e.lng),r=Math.sin(n/2)*Math.sin(n/2)+Math.cos(this._deg2rad(e.lat))*Math.cos(this._deg2rad(t.lat))*Math.sin(o/2)*Math.sin(o/2);return 2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371e3},_dist3d:function(e,t){var n=this._dist2d(e,t),o=Math.abs(t.meta.ele-e.meta.ele);return Math.sqrt(Math.pow(n,2)+Math.pow(o,2))},_deg2rad:function(e){return e*Math.PI/180}}),"object"==typeof module&&"object"==typeof module.exports?module.exports=L:"function"==typeof define&&define.amd&&define(L),function(e,t){var n=L.Control.extend({options:{position:"topleft"},onAdd:function(e){return document.querySelector("#lfh-control")}});console.log(t);var o={mode:"lfh-view",confirm:data_helper.confirm,add_description:data_helper.add_description,tiles:data_helper.tiles,map:null,center:[48.67777858405578,2.166026472914382],zoom:2,current_marker:null,default_icon:null,move_marker:null,markers:new Array,gpx:new Array,tile:null,record:null,shortcode:"[lfh-map]",init_map:function(){o.map=L.map("map").setView(o.center,o.zoom),o.set_tile(),o.map.addControl(new n);var e=document.querySelectorAll(".marker-control");[].forEach.call(e,function(e){L.DomEvent.addListener(e,"click",function(t){o.set_mode(e),t.stopPropagation()})}),o.default_icon=L.AwesomeMarkers.icon({icon:"circle",prefix:"lfhicon",markerColor:"red"}),o.move_marker=L.marker(o.center).addTo(o.map),o.move_marker.setOpacity(0),o.map.on("mousemove",function(e){switch(o.mode){case"lfh-add-marker":o.move_marker.setLatLng(e.latlng)}}),o.map.on("click",function(e){"lfh-add-marker"==o.mode&&o.add_marker(e)})},set_tile:function(){var e=document.querySelector('select[name="lfh-form-map-tile"]').value,t=o.tiles[e];null!=o.tile&&o.map.removeLayer(o.tile),o.tile="mapquest"!=e?L.tileLayer(t.url,{attribution:t.attribution}):MQ.mapLayer(),o.tile.addTo(o.map)},add_marker:function(e){return o.current_marker=L.marker(e.latlng,{icon:o.default_icon,draggable:!0,index:o.markers.length,title:"",popup:"",description:!1,visibility:"always"}).addTo(o.map),o.markers.push(o.current_marker),o.current_marker.on("click",function(e){switch(o.mode){case"lfh-edit-marker":o.current_marker=this,o.init_window();break;case"lfh-delete-marker":o.current_marker=null,o.delete_marker(this)}}),o.set_mode(document.querySelector("#lfh-edit-marker")),o.current_marker},add_marker_from_form:function(){var e=document.querySelector('#window-add-marker input[name="lfh-lat"]').value,t=document.querySelector('#window-add-marker input[name="lfh-lng"]').value,n={lat:e,lng:t};o.add_marker({latlng:n})},delete_marker:function(e){if(confirm(o.confirm)){for(var t=e.options.index,n=t;n<o.markers.length-1;n++)o.markers[n]=o.markers[n+1],o.markers[n].options.index=n;o.map.removeLayer(e),o.markers.pop()}},set_mode:function(t){"lfh-view"!==o.mode&&e(".marker-control.active").removeClass("active");var n=document.querySelectorAll(".lfh-form-edit");[].forEach.call(n,function(e){e.style.display="none"}),t.id===o.mode?o.mode="lfh-view":(o.mode=t.id,t.className=t.className+" active",o.init_window()),console.log(o.mode),o.mode.indexOf("lfh-add")>=0&&e("#lfh-add-element").addClass("active"),"lfh-add-marker"==o.mode?(o.move_marker.setOpacity(1),document.querySelector("#window-add-marker").style.display="block"):o.move_marker.setOpacity(0)},add_gpx:function(e){},get_position_info:function(){o.record={center:o.map.getCenter(),zoom:o.map.getZoom()},o.write_position()},write_position:function(){var e="<b> lat</b> = "+o.record.center.lat+"<br />";e+="<b> lng</b> = "+o.record.center.lng+"<br />",e+="<b> zoom</b> = "+o.record.zoom,document.querySelector("#map-position").innerHTML=e},init_window:function(){switch(o.mode){case"lfh-edit-map":document.querySelector("#window-edit-map").style.display="block";break;case"lfh-edit-marker":if(null==o.current_marker)return;var e=o.current_marker.options,t=e.icon.options.markerColor,n=e.icon.options.icon;document.querySelector('#window-edit-marker input[name="title"]').value=e.title.stripslashes(),document.querySelector('#window-edit-marker textarea[name="popup"]').value=e.popup.stripslashes(),document.querySelector('#window-edit-marker input[name="description"]').checked=e.description,document.querySelector('#window-edit-marker select[name="visibility"]').selectedIndex="always"==e.visibility?0:1;var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),document.querySelector("#color-marker div.awesome-marker-icon-"+t).dispatchEvent(r),document.querySelector("#icon-marker div.lfhicon-"+n).dispatchEvent(r),document.querySelector("#window-edit-marker").style.display="block"}},close_window:function(e){switch(e){case"window-edit-marker":o.close_color(),o.close_icon(),document.querySelector("#"+e).style.display="none";break;case"window-edit-map":var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!0),document.querySelector("#lfh-edit-map").dispatchEvent(t);break;case"window-add-marker":document.querySelector("#"+e).style.display="none"}},close_color:function(){var e=document.querySelector("#window-edit-marker .to-extend label "),t=e.parentNode.querySelector("div");"-"==e.textContent&&(e.textContent="+",t.style.display="none")},close_icon:function(){var t=e("#window-edit-marker .to-extend label").eq(1),n=t.parent().find("> div");"-"==t.textContent&&(t.textContent="+",n.style.display="none")},write_checked:function(e){document.querySelector('input[name="'+o.map_var[e]+'"]').checked},shortcode_map:function(){var e="";return e+="[lfh-map ",document.querySelector('input[name="lfh-form-map-autocenter"]').checked||(e+=" lat="+o.record.center.lat,e+=" lng="+o.record.center.lng,e+=" zoom="+o.record.zoom),""!=document.querySelector('input[name="lfh-form-map-class"]').value&&(e+=' class="'+document.querySelector('input[name="lfh-form-map-class"]').value.replaceAll("-","\\-")+'"'),["autocenter","fullscreen","reset","list","mousewheel","open","undermap"].forEach(function(t){e+=" "+t+"="+document.querySelector('input[name="lfh-form-map-'+t+'"]').checked}),["width","height"].forEach(function(t){e+=" "+t+"="+document.querySelector('input[name="lfh-form-map-'+t+'"]').value}),e+=" tile="+document.querySelector('select[name="lfh-form-map-tile"]').value,e+=" ] <br /> "},shortcode:function(){var e="";e+=o.shortcode_map();for(var t=0;t<o.markers.length;t++){var n=o.markers[t].getLatLng(),r=o.markers[t].options,i=r.icon.options.markerColor,a=r.icon.options.icon;e+="[lfh-marker lat="+n.lat+" lng="+n.lng,e+=" color="+i+" icon="+a,e+=' title="'+r.title+'"',e+=' popup="'+r.popup+'"',e+=" visibility="+r.visibility,e+=" ]",r.description&&(e+=r.description),e+="[/lfh-marker]"}return o.gpx.forEach(function(t){shortocde+="[lfh-gpx src="+t.src,e+=" color="+t.color,e+=" width="+t.width,e+="][/lfh-gpx]"}),e}};L.DomEvent.addListener(document.querySelector("form"),"submit",function(e){e.preventDefault()});var r={selected:null,x_pos:0,y_pos:0,x_elem:0,y_elem:0,init:function(e){r.selected=e,r.x_elem=r.x_pos-r.selected.offsetLeft,r.y_elem=r.y_pos-r.selected.offsetTop},move:function(e){if(r.x_pos=document.all?window.event.clientX:e.pageX,r.y_pos=document.all?window.event.clientY:e.pageY,null!==r.selected){var t=Math.min(Math.max(-200,r.x_pos-r.x_elem),window.innerWidth-100);r.selected.style.left=t+"px";var n=Math.min(Math.max(0,r.y_pos-r.y_elem),window.innerHeight-40);r.selected.style.top=n+"px"}},destroy:function(){r.selected=null}};document.onmousemove=r.move,document.onmouseup=r.destroy;var i=document.querySelectorAll(".lfh-form-edit .header");[].forEach.call(i,function(e){L.DomEvent.addListener(e,"mousedown",function(t){r.init(e.parentNode)})});var a=document.querySelectorAll(".lfhicon-close");[].forEach.call(a,function(e){L.DomEvent.addListener(e,"click",function(t){var n=e.parentNode.parentNode.id;o.close_window(n)})});var a=document.querySelectorAll(".to-extend label");[].forEach.call(a,function(e){L.DomEvent.addListener(e,"click",function(e){var t=e.target,n=t.parentNode.querySelector("div");"+"==t.textContent?(t.textContent="-",n.style.display="inline-block"):(t.textContent="+",n.style.display="none")})});var l=document.querySelector('#window-add-marker input[name="placeMarker"]');L.DomEvent.addListener(l,"click",function(e){o.add_marker_from_form()});var l=document.querySelector('#window-edit-map input[name="lfh-form-map-autocenter"]');L.DomEvent.addListener(l,"click",function(e){document.querySelector("#center-map").style.display=e.target.checked?"none":"block",o.get_position_info()});var l=document.querySelector('input[name="save-center"]');L.DomEvent.addListener(l,"click",function(e){o.get_position_info()});var l=document.querySelector('#window-edit-map select[name="lfh-form-map-tile"]');L.DomEvent.addListener(l,"change",function(e){o.set_tile()});var c=document.createEvent("MouseEvents");c.initEvent("click",!0,!0),document.querySelector('#window-edit-map input[type="reset"]').dispatchEvent(c);var l=document.querySelector('#window-edit-marker input[name="title"]');L.DomEvent.addListener(l,"change",function(e){o.current_marker.options.title=this.value.addslashes()});var l=document.querySelector('#window-edit-marker textarea[name="popup"]');L.DomEvent.addListener(l,"change",function(e){var t=this.value;o.current_marker.options.popup=this.value.addslashes(),o.current_marker.bindPopup(t).openPopup()});var l=document.querySelector("#window-edit-marker input[name='description']");L.DomEvent.addListener(l,"click",function(e){o.current_marker.options.description=this.checked});var l=document.querySelector("#window-edit-marker select");L.DomEvent.addListener(l,"change",function(e){o.current_marker.options.visibility=this.value});var a=document.querySelectorAll("#selected-icon , #selected-color");[].forEach.call(a,function(e){L.DomEvent.addListener(e,"focus",function(t){for(var n=e.parentNode.nextSibling;1!=n.nodeType;)n=n.nextSibling;n.querySelector("label").textContent="-",n.querySelector("div").style.display="inline-block","selected-icon"==e.id&&o.close_color()})});var a=document.querySelectorAll("#color-marker div.awesome-marker");[].forEach.call(a,function(e){L.DomEvent.addListener(e,"click",function(e){var t=this,n=document.querySelector("#color-marker div.selected"),r=n.className.replace(" selected","");n.className=r,r=t.className,t.className=r+" selected";var i=t.dataset.value,n=document.querySelector("#selected-color");n.className=r,n.dataset.value=i;var a=document.querySelector("#selected-icon").dataset.value;o.current_marker.setIcon(L.AwesomeMarkers.icon({icon:a,prefix:"lfhicon",markerColor:i}))})});var a=document.querySelectorAll("#icon-marker div.lfhicon");[].forEach.call(a,function(e){L.DomEvent.addListener(e,"click",function(e){var t=this,n=document.querySelector("#icon-marker div.selected"),r=n.className.replace(" selected","");n.className=r,r=t.className,t.className=r+" selected";var i=t.dataset.value,n=document.querySelector("#selected-icon");n.className=r,n.dataset.value=i;var a=document.querySelector("#selected-color").dataset.value;o.current_marker.setIcon(L.AwesomeMarkers.icon({icon:i,prefix:"lfhicon",markerColor:a}))})});var s=null,m=null;document.querySelector("#lfh-add-gpx").addEventListener("click",function(e){s||(s=wp.media({title:"Insert a gpx",library:{type:"application/gpx+xml"},multiple:!0,button:{text:"Insert"}}),s.on("select",function(){var e=s.state().get("selection").first().toJSON();console.log(e.meta),console.log(e.title),console.log(e.description,"----");for(attr in e)console.log(attr)})),s.open()}),document.querySelector("#insert-media-button").addEventListener("click",function(e){m||(m=wp.media({title:"Insert a media",library:{type:"image"},multiple:!0,button:{text:"Insert"}}),m.open())}),o.init_map()}(jQuery,lfh.data),String.prototype.addslashes=function(){return this.replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},String.prototype.stripslashes=function(){return this.replace(/\\(.?)/g,function(e,t){switch(t){case"\\":return"\\";case"0":return"\0";case"":return"";default:return t}})},String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"g"),t)};